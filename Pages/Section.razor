@using System.ComponentModel.DataAnnotations

<MudPaper Class="p-3 mb-3 rounded-2xl">
    <div class="flex items-center gap-3 mb-2">
        <MudCheckBox @bind-Value="Enabled" 
                 Color="Color.Primary" />
        <MudText Typo="Typo.subtitle1">@Title</MudText>
    </div>

    <MudTextField @bind-Value="Url"
                  Placeholder="@Placeholder"
                  Adornment="Adornment.Start"
                  AdornmentIcon="@Icons.Material.Filled.Link"
                  Immediate="true"
                  MaxLength="@Max"
                  HelperText="@Counter"
                  Lines="1" />
</MudPaper>

@code {
    [Parameter] public string Title { get; set; } = "";
    [Parameter] public bool Enabled { get; set; }
    [Parameter] public EventCallback<bool> EnabledChanged { get; set; }
    [Parameter] public string? Url { get; set; }
    [Parameter] public EventCallback<string?> UrlChanged { get; set; }
    [Parameter] public int Max { get; set; } = 500;
    [Parameter] public string Placeholder { get; set; } = "https://â€¦";

    private string Counter => $"{(Url?.Length ?? 0)}/{Max}";
}
